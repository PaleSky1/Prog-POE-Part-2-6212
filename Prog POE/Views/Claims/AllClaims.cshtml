@model List<Prog_POE.Models.Claims>

<style>
    .table {
        width: 100%;
        margin-bottom: 1rem;
        background-color: white;
        color: black;
        border-radius: 10px;
    }

        .table th,
        .table td {
            padding: 1rem;
            vertical-align: top;
            border-top: 1px solid #dee2e6;
        }

        .table th {
            background-color: #cce5ff;
            color: black;
        }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: rgba(0, 0, 0, 0.05);
    }

    .table-bordered {
        border: 1px solid #dee2e6;
    }

        .table-bordered th,
        .table-bordered td {
            border: 1px solid #dee2e6;
        }

    .btn-link {
        color: #007bff;
        text-decoration: none;
    }

        .btn-link:hover {
            text-decoration: underline;
        }
</style>

@if (Model == null || !Model.Any())
{
    <p class="text-center">No claims found.</p>
}
else
{
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Claim Reference</th>
                    <th>Lecture Name</th>
                    <th>Lecture ID</th> <!-- New column for Lecture ID -->
                    <th>Hours Worked</th>
                    <th>Hourly Rate</th>
                    <th>Additional Notes</th>
                    <th>Claim Description</th>
                    <th>Uploaded File</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var claim in Model)
                {
                    <tr>
                        <td>@(claim?.ClaimReference ?? string.Empty)</td>
                        <td>@(claim?.LectureName ?? string.Empty)</td>
                        <td>@(claim?.LectureID.ToString() ?? string.Empty)</td> <!-- Display Lecture ID -->
                        <td>@(claim?.HoursWorked.ToString() ?? string.Empty)</td>
                        <td>@(claim?.HourlyRate.ToString("C") ?? string.Empty)</td>
                        <td>@(claim?.AdditionalNotes ?? string.Empty)</td>
                        <td>@(claim?.ClaimDescription ?? string.Empty)</td>
                        <td>
                            @if (!string.IsNullOrEmpty(claim.FileName))
                            {
                                <a href="@claim.FileLink" download class="btn btn-link">@claim.FileName</a>
                            }
                            else
                            {
                                <span>No file uploaded</span>
                            }
                        </td>
                        <td>
                            <form action="@Url.Action("DeleteClaim", "Claims")" method="post" onsubmit="return confirm('Are you sure you want to delete this claim?');">
                                <input type="hidden" name="partitionKey" value="@claim?.PartitionKey" />
                                <input type="hidden" name="rowKey" value="@claim?.RowKey" />
                                <button type="submit" class="btn btn-danger">Delete</button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
